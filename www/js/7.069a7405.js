(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"48e3":function(e,t,i){"use strict";i.r(t),t["default"]={SupportByBuying:["I hope you enjoy jarvis and it enriches your smarthome.","If you are missing a certain functionality or you found a bug, please [do not hesitate to create an issue on Github](https://github.com/Zefau/ioBroker.jarvis/issues).","If you are facing problems or having questions, [please see the Wiki](https://github.com/Zefau/ioBroker.jarvis/wiki) or [ask in the forum](https://forum.iobroker.net/topic/49776).","With v3 the possibility of a subscription is introduced, which enables Pro-Features. An [overview of the Pro-Features can be found on Github](https://github.com/Zefau/ioBroker.jarvis/discussions/891). The subscription can be quit any time and in that case the licence validity will last until the subscribed period end. In case of difficulties, please feel free to write me via [ioBroker.jarvis@mailbox.org](mailto:ioBroker.jarvis@mailbox.org).","The subscription of the private licence costs 12,00 EUR in a year.","Please understand this not only as a payment, but also as an award and support for the development of this adapter.","**Thanks in advanced for your support!**"],Termination:["You may quit your subscription directly [via PayPal (https://www.paypal.com/myaccount/autopay/)](https://www.paypal.com/myaccount/autopay/).","Your current licence will stay intact until the end of the paid period."],Disclaimer:["The use of the application is only for private purposes. Commercial usage is not allowed. For a commercial usage please contact me via [ioBroker.jarvis@mailbox.org](mailto:ioBroker.jarvis@mailbox.org) for a pricing.","Die Versorgung mit Patches - insbesondere sicherheitsrelevante Patches - erfolgt bezogen auf die jarvis Major Version (X.y.z, siehe [Semver](https://semver.org/lang/de/)) für mindestens 12 Monate ab Release-Zeitpunkt im Stable Repository von ioBroker. Ein Recht zur Versorgung mit Updates für neue Features besteht nicht.","The usage is at own risk. Security relevant settings of ioBroker as well as the local user-specific server instance have to be taken care of by the user himself.","Die Haftung und insbesondere ein möglicher Schadensersatz ist ausdrücklich ausgeschlossen. Der Verkauf erfolgt unter Ausschluss jeglicher Gewährleistung. Die Haftung auf Schadenersatz wegen Verletzungen von Gesundheit, Körper oder Leben und grob fahrlässiger und/oder vorsätzlicher Verletzungen meiner Pflichten als Verkäufer bleibt uneingeschränkt."]}},"5f5d":function(e,t,i){"use strict";i.r(t),t["default"]={"Account & ioBroker Installations":"Учетная запись и инсталляция ioBroker",Buy:"Купить",Subscribe:"Подписка",User:"Пользователь","Sign In":"Войти","Licence valid for following installation":"Лицензия действует для следующих инсталляций",Bills:"Счета","Login first to buy & subscribe":"Войдите для покупки и оформления подписки","buy now":"купить сейчас","Legal Remarks":"Юридические замечания",SupportByBuying:["Я надеюсь, что Вам нравится jarvis, и он позволяет сделать приятным взаимодействие с Вашим умным домом.","Если Вам не хватает какой-либо функциональности или вы нашли ошибку, пожалуйста, [не стесняйтесь создавать проблему на Github](https://github.com/Zefau/ioBroker.jarvis/issues).","Если Вы столкнулись с проблемами или у Вас появились вопросы, [пожалуйста, поробуйте найти решение в Wiki](https://github.com/Zefau/ioBroker.jarvis/wiki) или [задайте вопрос на форме](https://forum.iobroker.net/topic/49776).","Начиная с версии 3 появилась возможность подписки, предоставляющей доступ к оасширенным функциям. [перечень расширенных функций Вы модете найти на Github](https://github.com/Zefau/ioBroker.jarvis/discussions/891). Подписка может быть прекращена в любое время, в этом случае лицензия будет действовать до конца оплаченного периода. В случае каких-либо затруднений, пжалуйста, пишите мне на [ioBroker.jarvis@mailbox.org](mailto:ioBroker.jarvis@mailbox.org).","Стоимость подписки 12,00 EUR в год.","Пожалуйста, воспринимайте подписку не просто как платеж, а также как поддержку развития проекта и награду для автора.","**Большое спасибо за вашу поддержку!**"],Termination:["Der Vertrag bzw. das Abonnement kann direkt [über PayPal (https://www.paypal.com/myaccount/autopay/)](https://www.paypal.com/myaccount/autopay/) gekündigt / storniert werden.","Die aktuelle Lizenz bleibt bis zum Ende der Laufzeit gültig."],Disclaimer:["Der Gebrauch ist ausschließlich privat und nicht zu kommerziellen / gewerblichen Zwecken gestattet. Für eine kommerzielle Nutzung bitte via [ioBroker.jarvis{'@'}mailbox.org](mailto:ioBroker.jarvis{'@'}mailbox.org) schriftlich eine Preisanfrage stellen.","Die Versorgung mit Patches - insbesondere sicherheitsrelevante Patches - erfolgt bezogen auf die jarvis Major Version (X.y.z, siehe [Semver](https://semver.org/lang/de/)) für mindestens 12 Monate ab Release-Zeitpunkt im Stable Repository von ioBroker. Ein Recht zur Versorgung mit Updates für neue Features besteht nicht.","Die Nutzung erfolgt grundsätzlich auf eigene Gefahr! Sicherheitsrelevante Einstellungen für die ioBroker bzw. lokale benutzer-seitige Server-Umgebung liegen in der Eigenverantwortung des Benutzers, siehe insbesondere die [Hinweise zu den Gefahren durch Port-Freischaltungen](https://forum.iobroker.net/topic/17258/hinweis-gefahren-durch-port-freischaltungen).","Die Haftung und insbesondere ein möglicher Schadensersatz ist ausdrücklich ausgeschlossen. Der Verkauf erfolgt unter Ausschluss jeglicher Gewährleistung. Die Haftung auf Schadenersatz wegen Verletzungen von Gesundheit, Körper oder Leben und grob fahrlässiger und/oder vorsätzlicher Verletzungen meiner Pflichten als Verkäufer bleibt uneingeschränkt."]}},c6c5:function(e,t,i){"use strict";i.r(t);var s=i("0692");t["default"]={translations:Object(s["a"])((e=>i("f0cb")("./"+e))),register:s["c"]}},d0e0:function(e,t,i){"use strict";i.r(t),t["default"]={"Account & ioBroker Installations":"Account & ioBroker Installationen",Buy:"Kaufen",Subscribe:"Abonnieren",User:"Benutzer","Sign In":"Anmelden","Licence valid for following installation":"Lizenz gültig für folgende Installation",Bills:"Rechnungen","Login first to buy & subscribe":"Bitte zunächst Anmelden, um zu kaufen","buy now":"jarvis Pro Abonnement für 12,00 EUR / Jahr zahlungspflichtig bestellen, jedezeit kündbar","Legal Remarks":"Rechtliche Hinweise",SupportByBuying:["Ich hoffe, euch gefällt jarvis und der Adapter bereichert euer Smarthome.","Sofern euch Funktionen fehlen, ihr euch Features wünscht oder auf Bugs gestoßen seid, dann [scheut bitte nicht einen Issue auf Github zu erstellen](https://github.com/Zefau/ioBroker.jarvis/issues). Nur, wenn ich davon erfahre, kann ich es umsetzen.","Sofern ihr Probleme oder Fragestellungen habt, schaut [gerne ins Wiki](https://github.com/Zefau/ioBroker.jarvis/wiki) oder [meldet euch im Forum](https://forum.iobroker.net/topic/49776).","Mit der in v3 eingeführten Möglichkeit des Abonnements könnt ihr diverse Pro-Features aktivieren und nutzen. Eine [Übersicht der Features findet ihr auf Github](https://github.com/Zefau/ioBroker.jarvis/discussions/891). Das Abo ist jederzeit kündbar und läuft bei Kündigung bis zum bezahlten Ende fort. Sofern es Schwierigkeiten gibt, meldet euch gerne bei mir via [ioBroker.jarvis@mailbox.org](mailto:ioBroker.jarvis@mailbox.org).","Die Abo-Kosten für die private Lizenz betragen 12,00 EUR im Jahr.","Bitte versteht die eingeführte Möglichkeit des Abonnements nicht nur als reine Bezahlung, sondern auch als Unterstützung zur Weiterentwicklung des Adapters.","**Vielen Dank für euren Support!**"],Termination:['Der Vertrag bzw. das Abonnement kann direkt [über PayPal (Verträge hier kündigen)](https://www.paypal.com/myaccount/autopay/) gekündigt / storniert werden (links in der Navigation "jarvis" auswählen).',"Die aktuelle Lizenz bleibt bis zum Ende der Laufzeit gültig."],Disclaimer:["Der Gebrauch ist ausschließlich privat und nicht zu kommerziellen / gewerblichen Zwecken gestattet. Für eine kommerzielle Nutzung bitte via [ioBroker.jarvis@mailbox.org](mailto:ioBroker.jarvis@mailbox.org) schriftlich eine Preisanfrage stellen.","Die Versorgung mit Patches - insbesondere sicherheitsrelevante Patches - erfolgt bezogen auf die jarvis Major Version (X.y.z, siehe [Semver](https://semver.org/lang/de/)) für mindestens 12 Monate ab Release-Zeitpunkt im Stable Repository von ioBroker. Ein Recht zur Versorgung mit Updates für neue Features besteht nicht.","Die Nutzung erfolgt grundsätzlich auf eigene Gefahr! Sicherheitsrelevante Einstellungen für die ioBroker bzw. lokale benutzer-seitige Server-Umgebung liegen in der Eigenverantwortung des Benutzers, siehe insbesondere die [Hinweise zu den Gefahren durch Port-Freischaltungen](https://forum.iobroker.net/topic/17258/hinweis-gefahren-durch-port-freischaltungen).","Die Haftung und insbesondere ein möglicher Schadensersatz ist ausdrücklich ausgeschlossen. Der Verkauf erfolgt unter Ausschluss jeglicher Gewährleistung. Die Haftung auf Schadenersatz wegen Verletzungen von Gesundheit, Körper oder Leben und grob fahrlässiger und/oder vorsätzlicher Verletzungen meiner Pflichten als Verkäufer bleibt uneingeschränkt."]}},f0cb:function(e,t,i){var s={"./":"c6c5","./de":"d0e0","./de.js":"d0e0","./en":"48e3","./en.js":"48e3","./index":"c6c5","./index.js":"c6c5","./ru":"5f5d","./ru.js":"5f5d"};function r(e){var t=n(e);return i(t)}function n(e){if(!i.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}r.keys=function(){return Object.keys(s)},r.resolve=n,e.exports=r,r.id="f0cb"},ff43:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return _}));var s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("div",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],staticClass:"row q-px-sm"},[t("div",{staticClass:"col"},[t("alert",[e._v(e._s(e.error))])],1)]),t("div",{staticClass:"row q-pa-md no-wrap justify-center"},[t("div",{staticClass:"col-3"},[t("q-card",[t("q-card-section",{staticClass:"bg-primary text-white"},[t("div",{staticClass:"text-h6"},[e._v(e._s(!0===e.login?e.$t("User")+" ID":e.$t("Sign In")))]),t("div",{staticClass:"text-subtitle2"})]),t("q-card-section",[t("div",{directives:[{name:"show",rawName:"v-show",value:null===e.login,expression:"login === null"}],staticClass:"text-center"},[t("q-spinner",{attrs:{color:"primary",size:"3em"}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:!0===e.login,expression:"login === true"}]},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("inputs",{attrs:{standout:"",value:e.userId,label:"User",disable:""}})],1)])]),t("div",{directives:[{name:"show",rawName:"v-show",value:!1===e.login,expression:"login === false"}],staticClass:"text-center"},[t("div",{attrs:{id:"paypal-button-login"}})])])],1),t("q-card",{directives:[{name:"show",rawName:"v-show",value:e.invoices.length>0,expression:"invoices.length > 0"}],staticClass:"q-mt-md"},[t("q-card-section",{staticClass:"bg-primary text-white"},[t("div",{staticClass:"text-h6"},[e._v(e._s(e.$t("Bills")))]),t("div",{staticClass:"text-subtitle2"})]),t("q-card-section",[t("q-list",[e._l(e.invoices,(function(i){return[t("q-item",{key:"item-"+i.invoiceId,class:{"bg-positive":i.expires>e.now}},[t("q-item-section",[t("q-item-label",[e._v(e._s(i.date)+", #"+e._s(i.invoiceId))]),t("q-item-label",{attrs:{caption:""}},[e._v(e._s(e.$t("valid to"))+" "+e._s(e.format(1e3*i.expires,"dd. MMM yyyy, HH:mm")))])],1)],1),t("q-separator",{key:"separator-"+i.invoiceId})]}))],2)],1)],1)],1),t("div",{staticClass:"col-shrink items-center"},[t("q-separator",{staticStyle:{margin:"0 16px",height:"100%"},attrs:{vertical:""}})],1),t("div",{staticClass:"col-5"},[t("q-card",[t("q-card-section",{staticClass:"bg-primary text-white"},[t("div",{staticClass:"text-h6"},[e._v(e._s(e.$t("Buy"))+" & "+e._s(e.$t("Subscribe")))]),t("div",{staticClass:"text-subtitle2"})]),t("q-card-section",e._l(e.t["Support by buying"],(function(i){return t("p",{key:i},[t("span",{domProps:{innerHTML:e._s(e.md.render(i))}})])})),0),t("q-separator"),t("q-card-section",[t("strong",[e._v(e._s(e.$t("Legal Remarks")))]),e._l(e.t.Disclaimer,(function(i){return t("p",{key:i},[t("span",{domProps:{innerHTML:e._s(e.md.render(i))}})])}))],2),t("q-separator"),t("q-card-section",{directives:[{name:"show",rawName:"v-show",value:!1===e.login,expression:"login === false"}],staticClass:"text-center"},[e._v("\n\t\t\t\t\t"+e._s(e.$t("Login first to buy & subscribe"))+".\n\t\t\t\t")]),t("q-card-section",{directives:[{name:"show",rawName:"v-show",value:!0===e.login&&e.userId,expression:"login === true && userId"}],staticClass:"text-center"},[t("div",{directives:[{name:"show",rawName:"v-show",value:!1===e.paying,expression:"paying === false"}]},[t("div",{attrs:{id:"paypal-button-subscribe"}}),t("em",[e._v(e._s(e.$t("buy now")))]),t("q-separator",{staticClass:"q-mt-sm"})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:!0===e.paying,expression:"paying === true"}]},[t("q-spinner",{attrs:{color:"primary",size:"3em"}})],1)])],1)],1),t("div",{staticClass:"col-shrink items-center"},[t("q-separator",{staticStyle:{margin:"0 16px",height:"100%"},attrs:{vertical:""}})],1),t("div",{staticClass:"col-3"},[t("q-card",[t("q-card-section",{staticClass:"bg-primary text-white"},[t("div",{staticClass:"text-h6"},[e._v(e._s(e.$t("Unsubscribe"))+" / "+e._s(e.$t("Terminate")))]),t("div",{staticClass:"text-subtitle2"})]),t("q-card-section",e._l(e.t.Termination,(function(i){return t("p",{key:i},[t("span",{domProps:{innerHTML:e._s(e.md.render(i))}})])})),0)],1)],1)])])},r=[],n=(i("b7ef"),i("a79d"),i("d9e2"),i("ed09")),a=i("ec26"),o=i("7ead"),l=i("9ea4"),u=i("853a"),c=i("e580"),d=i("c6c5");const h=i("d4cd")();var g=Object(n["b"])({name:"AccountPage",data(){return{error:null,login:null,paying:!1,userId:null,invoices:[],installations:[],selectedInstallation:null}},computed:{now(){return Math.ceil(Date.now()/1e3)},t(){const e={};return["SupportByBuying","Termination","Disclaimer"].forEach((t=>{let i="",s=0;e[t]=[];while((i=this.$i18n.t(t+"["+s+"]"))!==t+"["+s+"]")s++,e[t].push(i)})),e}},methods:{selectInstallation(){console.warn(this.selectedInstallation)},mountPaypalAPI(){window.paypal?window.paypal.use(["login"],(e=>{const t=this.$store.state.jarvis.iobroker.uuid,i=this.$store.state.jarvis.iobroker.system,s=u["a"]._systemId;e.render({appid:"Ad8Db5feNlBy6SdFa7O0fpJ2QYIcyFO9SGSg4tNpxOgOlLyWTkN6JmOFBV58ItTpdUwfBGW2L8WuoIAn",scopes:"openid",containerid:"paypal-button-login",responseType:"code",locale:"de-de",buttonType:"LWP",buttonShape:"pill",buttonSize:"lg",fullPage:"true",state:btoa(this.sessionId+"|"+t+"|"+s+"|"+JSON.stringify(i)+"|"+window.location.href),returnurl:"https://www.zefau.net/jarvis/user/paypal_login.php"})})):setTimeout((()=>this.mountPaypalAPI()),100)},mountPaypalSDK(){const e=document.querySelector("#paypal-button-subscribe");if(window.paypal_sdk&&e){const e={style:{shape:"rect",color:"blue",layout:"horizontal",label:"buynow",tagline:!1},createSubscription:(e,t)=>t.subscription.create({plan_id:"P-8EY03930L1769123MMEFPZPI"}),onApprove:(e,t)=>{this.paying=!0,l["a"].post("user/invoice",{action:"assignUserToInvoice",userId:this.userId,subscriptionId:e.subscriptionID}).then((t=>u["a"].setToken(t,e.subscriptionID,this.selectedInstallation.value))).catch((e=>console.error(e))).finally((()=>{this.paying="done",window.location.reload()}))}};this.button=window.paypal_sdk.Buttons(e),this.button.render("#paypal-button-subscribe")}else setTimeout((()=>this.mountPaypalSDK()),100)}},beforeCreate(){d["default"].register(this.$i18n,d["default"].translations),this.format=c["a"],this.md=h;const e="Ad8Db5feNlBy6SdFa7O0fpJ2QYIcyFO9SGSg4tNpxOgOlLyWTkN6JmOFBV58ItTpdUwfBGW2L8WuoIAn",t=document.createElement("script");t.setAttribute("src","https://www.paypal.com/sdk/js?client-id="+e+"&components=buttons&currency=EUR&vault=true&intent=subscription"),t.setAttribute("data-namespace","paypal_sdk"),document.body.appendChild(t),this.sessionId=o["a"].get("sessionId")||Object(a["a"])(),o["a"].set("sessionId",this.sessionId),l["a"].post("user/details",{action:"getLoginBySessionId",sessionId:this.sessionId}).then((e=>{if(!e)throw new Error("User not signed in!");this.login=!0,this.userId=e,o["a"].set("userId",e),console.log("User signed-in: "+e),l["a"].post("user/invoice",{action:"getInvoicesByUserId",userId:e}).then((e=>{this.invoices=e})).catch((e=>{console.warn(e.message)})),l["a"].post("user/details",{action:"getInstallations",userId:e}).then((e=>{this.installations=e.map((e=>{const t=JSON.parse(e.system),i={value:e.ioBrokerId,label:"System: "+t.hostname+" ("+t.platform+"), ID: "+e.ioBrokerId};return"1"===e.selected&&(this.selectedInstallation=i),i}))})).catch((e=>{console.warn(e.message)}))})).catch((e=>{console.warn(e.message),this.error=e.message,this.login=!1}))},mounted(){this.mountPaypalSDK(),this.mountPaypalAPI()},beforeDestroy(){this.button&&this.button.close&&this.button.close(),Object.keys(window).forEach((e=>{/paypal|zoid|post_robot/.test(e)&&delete window[e]}))}}),p=g,m=i("2877"),b=i("f09f"),f=i("a370"),v=i("0d59"),w=i("ddd8"),y=i("9c40"),k=i("eb85"),z=i("1c1c"),B=i("66e5"),I=i("4074"),S=i("0170"),j=i("eebe"),x=i.n(j),P=Object(m["a"])(p,s,r,!1,null,null,null),_=P.exports;x()(P,"components",{QCard:b["a"],QCardSection:f["a"],QSpinner:v["a"],QSelect:w["a"],QBtn:y["a"],QSeparator:k["a"],QList:z["a"],QItem:B["a"],QItemSection:I["a"],QItemLabel:S["a"]})}}]);