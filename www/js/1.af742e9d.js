(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"037f":function(e,t,i){"use strict";i("a507")},"086f":function(e,t,i){"use strict";i.r(t);var s=i("0692");t["default"]={translations:Object(s["a"])((e=>i("3c2f")("./"+e))),register:s["c"]}},"3c2f":function(e,t,i){var s={"./":"086f","./de":"de6a","./de.js":"de6a","./en":"72a5","./en.js":"72a5","./index":"086f","./index.js":"086f","./ru":"4e4a","./ru.js":"4e4a"};function o(e){var t=n(e);return i(t)}function n(e){if(!i.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}o.keys=function(){return Object.keys(s)},o.resolve=n,e.exports=o,o.id="3c2f"},"424e":function(e,t,i){"use strict";var s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("q-dialog",{attrs:{value:null!==e.widget,"full-height":"",persistent:""}},[null!==e.widget?t("q-card",{staticClass:"column full-height",staticStyle:{width:"1400px","max-width":"90vw"}},[t("q-card-section",{staticClass:"row items-center"},[t("div",{staticClass:"text-h6 row items-center"},[e._v("\n\t\t\t\t"+e._s(e.$t("Widget"))+": "),t("inputs",{staticStyle:{width:"230px"},attrs:{dense:"",id:"title",label:e.$t("Name"),value:e.widget.title||"",autofocus:""},on:{onChange:e.onChange}})],1),t("q-space"),t("q-btn",{attrs:{flat:"",round:"",color:"grey",icon:"close"},on:{click:function(t){return e.cancel()}}})],1),t("q-separator"),t("q-card-section",{staticClass:"col scroll body",attrs:{id:"WidgetDialogBody"}},[t("div",{staticClass:"text-h6 primary q-ma-sm"},[e._v(e._s(e.$t("Widget-Box")))]),t("q-separator",{staticStyle:{margin:"0 -16px"}}),t("div",{staticClass:"row"},[t("div",{staticClass:"col"},[t("inputs",{attrs:{id:"icon",label:e.$t("Widget")+" "+e.$t("Icon"),value:e.widget.icon||e.ModuleSettings.icon||"",icon:e.widget.icon},on:{onChange:e.onChange}})],1),t("div",{staticClass:"col"},[t("inputs",{attrs:{id:"label",label:e.$t("Widget")+" "+e.$t("Label"),value:e.widget.label||"",placeholder:e.widget.title},on:{onChange:e.onChange}})],1),t("div",{staticClass:"col"},[t("inputs",{attrs:{id:"link",label:e.$t("Widget")+" "+e.$t("Link"),value:e.widget.link||"",info:"config#HomeKitTile#jumper#info"},on:{onChange:e.onChange}})],1),t("div",{staticClass:"col-2"},[t("inputs",{attrs:{type:"switch",id:"hideTitle",label:e.$t("Hide Widget Label and Icon"),value:e.widget.hideTitle||!1},on:{onChange:e.onChange}})],1),t("div",{staticClass:"col-1"},[t("inputs",{directives:[{name:"show",rawName:"v-show",value:!0!==e.widget.hideTitle,expression:"widget.hideTitle !== true"}],attrs:{type:"switch",id:"hideSeparator",label:e.$t("Hide Separator"),value:e.widget.hideSeparator||!1},on:{onChange:e.onChange}})],1)]),t("div",{staticClass:"text-h6 primary q-ma-sm"},[e._v(e._s(e.$t("Module")))]),t("q-separator",{staticStyle:{margin:"0 -16px"}}),t("div",{staticClass:"row"},[t("div",{staticClass:"col-3"},[t("inputs",{attrs:{id:"module",label:e.$t("Module"),type:"select",options:e.ModuleList,value:e.widget.module,"options-dense":"","use-input":"",required:"",error:void 0!==e.errors["module"],"error-message":e.errors["module"]},on:{onSelect:e.onChange}})],1),t("div",{staticClass:"col-9"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.widget.module,expression:"widget.module"}],staticClass:"centered"},[e._v(e._s(e.$t(e.widget.module+"#description")))])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.widget.module,expression:"widget.module"}]},[t("div",{staticClass:"text-h7 primary q-ma-sm"},[e._v(e._s(e.$t("Module Configuration")))]),t("q-separator",{staticStyle:{margin:"0 0 8px 0"}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.ModuleConfigurations.length>0,expression:"ModuleConfigurations.length > 0"}],staticClass:"row"},[e._l(e.ModuleConfigurations,(function(i){return[!0!==i.hide?t("div",{directives:[{name:"show",rawName:"v-show",value:e.dependencies(i.dependencies),expression:"dependencies(ModuleConfig.dependencies)"}],key:i.parameter,class:"col-"+(i.columns||4)},[t("inputs",e._b({attrs:{value:e.ModuleConfigValues[i.parameter]},on:{onChange:function(t){return e.onChange({...arguments[0],id:"config."+i.parameter})},onSelect:function(t){return e.onChange({...arguments[0],id:"config."+i.parameter})}}},"inputs",i,!1))],1):e._e()]}))],2),t("div",{directives:[{name:"show",rawName:"v-show",value:0===e.ModuleConfigurations.length,expression:"ModuleConfigurations.length === 0"}],staticClass:"row"},[t("p",{staticClass:"q-pa-sm"},[e._v("\n\t\t\t\t\t\t"+e._s(e.$t("No configuration options for this module"))+"\n\t\t\t\t\t")])]),e.ModuleSettings&&e.ModuleSettings.customConfiguration?t("div",{staticClass:"row"},[t(e.ModuleSettings.customConfiguration,{tag:"component",attrs:{config:e.widget.config},on:{onChange:e.onChange}})],1):e._e(),!1!==e.ModuleSettings.addDevice?[t("div",{staticClass:"text-h7 primary q-ma-sm"},[e._v(e._s(e.$t("Module Devices")))]),t("q-separator",{staticStyle:{margin:"0 -0 8px 0"}}),t("div",{staticClass:"row"},[t("widget-devices-section",{attrs:{ModuleConfigValues:e.ModuleConfigValues,itemList:e.widget.items||[],module:e.widget.module},on:{onChange:e.onChange}})],1)]:e._e()],2)],1),t("q-separator"),t("q-card-actions",{attrs:{align:"right"}},[t("q-btn",{attrs:{flat:"",label:e.$t("Cancel"),color:"negative"},on:{click:function(t){return e.cancel()}}}),t("q-btn",{attrs:{flat:"",label:e.$t("Apply"),color:"primary",disable:e.hasErrors},on:{click:e.save}})],1)],1):e._e()],1)},o=[],n=(i("caad"),i("5319"),i("ed09")),a=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"full-width"},[t("div",{staticClass:"row sticky body"},[t("div",{staticClass:"col-4"},[t("q-select",{directives:[{name:"show",rawName:"v-show",value:!1!==e.ModuleSettings.addDevice&&(!e.ModuleSettings.addDevice||e.ModuleSettings.addDevice&&(void 0===e.ModuleSettings.addDevice.max||e.ModuleSettings.addDevice.max>e.items.length)),expression:"ModuleSettings.addDevice !== false && (!ModuleSettings.addDevice || (ModuleSettings.addDevice && (ModuleSettings.addDevice.max === undefined || ModuleSettings.addDevice.max > items.length)))"}],ref:"addDeviceSelect",staticStyle:{margin:"0 8px"},attrs:{label:e.$t("Add Device"),options:e.optionGroupsAddDevice,value:"","use-input":"","stack-label":""},on:{filter:e.filter},scopedSlots:e._u([{key:"option",fn:function(i){return[t("q-expansion-item",{attrs:{"expand-separator":"","header-class":"text-weight-bold",label:i.opt.label,icon:i.opt.icon}},[e._l(i.opt.devices,(function(i){return[t("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:i.id,attrs:{clickable:""},on:{click:function(t){return e.addDevice(i)}}},[t("q-item-section",[t("q-item-label",{staticClass:"q-ml-md"},[t("span",{class:{"text-strike":i.attributes&&!0===i.attributes.deleted}},[e._v(e._s(i.label?i.label+" ("+i.name+")":i.name))]),e._v(" "),i.attributes&&!0===i.attributes.deleted?t("em",[e._v("[ "+e._s(e.$t("deleted"))+" ]")]):e._e()])],1)],1)]}))],2)]}}])})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:!1!==e.ModuleSettings.addGroup,expression:"ModuleSettings.addGroup !== false"}],staticClass:"col-1",staticStyle:{"text-align":"center","line-height":"70px"}},[e._v(e._s(e.$t("or")))]),t("div",{directives:[{name:"show",rawName:"v-show",value:!1!==e.ModuleSettings.addGroup,expression:"ModuleSettings.addGroup !== false"}],staticClass:"col-3"},[t("inputs",{attrs:{label:"Add Group",value:e.group.value||""},on:{onChange:function(t){e.group=arguments[0]},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addGroup.apply(null,arguments)}}},[[t("q-btn",{directives:[{name:"show",rawName:"v-show",value:e.group.value,expression:"group.value"}],staticStyle:{height:"32px","min-width":"100px","margin-top":"16px"},attrs:{flat:"",size:"sm",dense:"",icon:"mdi-check",label:e.$t("add group")},on:{click:e.addGroup}})]],2)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:!1!==e.ModuleSettings.addDivider,expression:"ModuleSettings.addDivider !== false"}],staticClass:"col-1",staticStyle:{"text-align":"center","line-height":"70px"}},[e._v(e._s(e.$t("or")))]),t("div",{directives:[{name:"show",rawName:"v-show",value:!1!==e.ModuleSettings.addDivider,expression:"ModuleSettings.addDivider !== false"}],staticClass:"col-3",staticStyle:{"line-height":"70px"}},[t("q-btn",{attrs:{icon:"mdi-minus",label:e.$t("Add Divider"),color:"primary"},on:{click:e.addDivider}})],1)]),e.loaded?e._e():t("div",{staticClass:"row"},[t("q-linear-progress",{attrs:{indeterminate:""}})],1),e.loaded?t("div",{staticClass:"row"},[t("q-list",{ref:"deviceList",staticClass:"full-width",staticStyle:{"margin-top":"16px"}},[t("draggable",{attrs:{handle:".dragndrop"},on:{change:e.emitChange},model:{value:e.items,callback:function(t){e.items=t},expression:"items"}},[t("transition-group",{attrs:{type:"transition",name:"flip-list",tag:"div"}},e._l(e.items,(function(i){return t("div",{key:i.id,staticClass:"list-group-item",attrs:{set:e.isInGroup="device"===i.type?e.isInGroup:"divider"!==i.type&&"group"===i.type}},[t("q-item",[t("q-item-section",{attrs:{avatar:""}},[t("div",{staticClass:"row items-center"},[t("icon",{directives:[{name:"show",rawName:"v-show",value:e.items.length>1,expression:"items.length > 1"}],staticClass:"dragndrop",staticStyle:{"padding-right":"16px"},attrs:{name:"mdi-drag-horizontal"}}),t("inputs",{attrs:{type:"button",dense:"",icon:"mdi-content-copy",tooltip:e.$t("copy")},on:{click:function(t){return e.copyItem(t,i.id)}}}),t("inputs",{directives:[{name:"show",rawName:"v-show",value:!0!==i._deleted,expression:"item._deleted !== true"}],attrs:{type:"button",dense:"",icon:"mdi-delete",tooltip:e.$t("delete"),color:"negative"},on:{click:function(t){return e.deleteItem(t,i.id)}}}),t("inputs",{directives:[{name:"show",rawName:"v-show",value:!0===i._deleted,expression:"item._deleted === true"}],staticClass:"restore",attrs:{type:"button",dense:"",icon:"mdi-restore",tooltip:e.$t("restore"),color:"positive"},on:{click:function(t){return e.restoreItem(t,i.id)}}})],1)]),"device"!==i.type||"device"===i.type&&void 0!==e.deviceList[i.deviceId]?[e.ModuleSettings.customBodySection?t("q-item-section",[t(e.ModuleSettings.customBodySection,e._b({tag:"component",attrs:{item:i,device:e.deviceList[i.deviceId]},on:{onChange:e.onChange}},"component",{...e.$props,...e.$attrs},!1))],1):t("q-item-section",["divider"===i.type?t("span",[t("em",[e._v(e._s("("+e.$t("divider")+")"))])]):e._e(),"group"===i.type?t("span",[t("strong",[e._v(e._s(i.name))])]):e._e(),"device"===i.type?t("span",[t("strong",[e._v(e._s(e.deviceList[i.deviceId].name))]),e._v(" ("+e._s(e.deviceList[i.deviceId].function+", #"+i.deviceId)+")")]):e._e(),"device"===i.type?t("div",{staticClass:"row nowrap"},[e.shallBeShown("label")?t("inputs",{attrs:{dense:"",label:"Label",itemId:i.id,id:"label",json:"",value:i.label||"",placeholder:e.deviceList[i.deviceId].states[i.bodyStateKey]&&e.deviceList[i.deviceId].states[i.bodyStateKey].label?JSON.stringify(e.deviceList[i.deviceId].states[i.bodyStateKey].label):e.deviceList[i.deviceId].name},on:{onChange:e.onChange}}):e._e(),e.shallBeShown("bodyStateKey")?t("inputs",{staticStyle:{width:"130px"},attrs:{dense:"",label:"Body State",itemId:i.id,id:"bodyStateKey",value:i.bodyStateKey,type:"select",options:e.deviceStatesOptions(i.deviceId)},on:{onSelect:e.onChange}}):e._e(),e.shallBeShown("bodyElement")?t("inputs",{directives:[{name:"show",rawName:"v-show",value:i.bodyStateKey,expression:"item.bodyStateKey"}],staticStyle:{width:"230px"},attrs:{dense:"",id:"bodyElement",label:"Body Element",state:e.deviceList[i.deviceId].states[i.bodyStateKey],stateKey:i.bodyStateKey,itemId:i.id,value:i.bodyElement,type:"select.components",components:e.FUNCTION_COMPONENTS["bodyElements"][e.deviceFunction(i)],componentValues:e.componentValues(i,"body",i.bodyStateKey)},on:{onSelect:e.onChange,onOptions:e.onChange}}):e._e()],1):e._e()]),e.ModuleSettings.customActionSection?t("q-item-section",{attrs:{side:""}},[t(e.ModuleSettings.customActionSection,e._b({tag:"component",attrs:{item:i,device:e.deviceList[i.deviceId]},on:{onChange:e.onChange}},"component",{...e.$props,...e.$attrs},!1))],1):t("q-item-section",{attrs:{side:""}},["group"===i.type?t("div",{staticClass:"row nowrap"},[t("inputs",{staticStyle:{width:"100px"},attrs:{dense:"",label:e.$t("Group Actions"),itemId:i.id,id:"actions",value:i.actions||!1,type:"switch"},on:{onChange:e.onChange}}),e.shallBeShown("groupElement")?t("inputs",{directives:[{name:"show",rawName:"v-show",value:!0===i.actions,expression:"item.actions === true"}],staticStyle:{width:"200px"},attrs:{dense:"",id:"groupElement",label:"Group Element",stateKey:"group",itemId:i.id,value:i.groupElement,type:"select.components",components:e.FUNCTION_COMPONENTS["actionElements"]["_defaults"].filter((e=>"InputAction"!==e.value&&"DropdownAction"!==e.value)),componentValues:e.componentValues(i,"group","group")},on:{onSelect:e.onChange,onOptions:e.onChange}}):e._e()],1):e._e(),"device"===i.type?t("div",{staticClass:"row nowrap"},[e.shallBeShown("primaryStateKey")?t("inputs",{staticStyle:{width:"130px"},attrs:{dense:"",label:"Action State",itemId:i.id,id:"primaryStateKey",value:i.primaryStateKey,type:"select",options:e.deviceStatesOptions(i.deviceId)},on:{onSelect:e.onChange}}):e._e(),e.shallBeShown("showState")?t("inputs",{directives:[{name:"show",rawName:"v-show",value:i.primaryStateKey,expression:"item.primaryStateKey"}],staticStyle:{width:"100px"},attrs:{dense:"",label:"Show State",itemId:i.id,id:"showState",value:void 0===i.showState||i.showState,type:"switch"},on:{onChange:e.onChange}}):e._e(),e.shallBeShown("showGroupAction")?t("inputs",{directives:[{name:"show",rawName:"v-show",value:i.primaryStateKey&&!0===e.isInGroup,expression:"item.primaryStateKey && isInGroup === true"}],staticStyle:{width:"100px"},attrs:{dense:"",label:"Use in Actions",itemId:i.id,id:"useInGroup",value:void 0===i.useInGroup||i.useInGroup,type:"switch"},on:{onChange:e.onChange}}):e._e(),e.shallBeShown("actionElement")?t("inputs",{directives:[{name:"show",rawName:"v-show",value:i.primaryStateKey,expression:"item.primaryStateKey"}],staticStyle:{width:"200px"},attrs:{dense:"",id:"actionElement",label:"Action Element",state:e.deviceList[i.deviceId].states[i.primaryStateKey],stateKey:i.primaryStateKey,itemId:i.id,value:i.actionElement,type:"select.components",components:e.FUNCTION_COMPONENTS["actionElements"][e.deviceFunction(i)],componentValues:e.componentValues(i,"action",i.primaryStateKey)},on:{onSelect:e.onChange,onOptions:e.onChange}}):e._e()],1):e._e(),"device"===i.type?t("div",{staticClass:"row nowrap"},[e.shallBeShown("secondaryStatesKeys")?t("q-select",{staticStyle:{width:"430px"},attrs:{"stack-label":"",dense:"",label:e.$t("Secondary State"),value:i.secondaryStatesKeys,options:e.deviceStatesOptions(i.deviceId),"use-chips":"",multiple:""},on:{input:function(t){return e.onChangeSecondaryStatesKeys(i.id,arguments[0])}}}):e._e()],1):e._e()])]:t("q-item-section",[e._v("\n\t\t\t\t\t\t\t\t"+e._s(e.$t("Device not found")+" ("+e.$t("Device ID")+": "+i.deviceId+")")+"\n\t\t\t\t\t\t\t")])],2),t("q-separator")],1)})),0)],1)],1)],1):e._e()])},d=[],l=i("7195"),r=i("ec26"),c=i("b76a"),u=i.n(c),p=i("6211"),h=i("c7ac");const m=i("0050")();var v=Object(n["b"])({name:"WidgetDevicesSection",props:["module","itemList"],components:{Draggable:u.a,WidgetDevicesSection:K},data(){const e=this.$store.getters["editor/getGroups"]("function");return this.FUNCTION_COMPONENTS=h["listOfComponents"],this.isInGroup=!1,{loaded:!1,deviceId:null,group:{},items:m(this.itemList),deviceList:this.$store.state.editor.devices,optionsAddDevice:e,optionGroupsAddDevice:Object.values(e),optionGroupsAddDeviceDefault:Object.values(e),ModuleSettings:p["c"]._ModuleSettings[this.module]||{}}},watch:{module(e){this.ModuleSettings=p["c"]._ModuleSettings[e]||{}}},methods:{shallBeShown(e){return!this.ModuleSettings.addDevice||this.ModuleSettings.addDevice&&(!this.ModuleSettings.addDevice.fields||this.ModuleSettings.addDevice.fields&&this.ModuleSettings.addDevice.fields.includes(e))},filter(e,t){const i=e?Object.values(this.$store.getters["editor/getGroups"]("function",e)):this.optionGroupsAddDeviceDefault;t((()=>{this.optionGroupsAddDevice=i}))},componentValues(e,t,i){const s=this.deviceList[e.deviceId]&&this.deviceList[e.deviceId].states[e[i+"StateKey"]]||{},o=e[t+"Element"];return Object(l["a"])(s[o+"Config"]||{},e[o+"Config"]&&e[o+"Config"][i]||{})},getDevice(e){return this.deviceList[e]},deviceFunction(e){return"other"===this.deviceList[e.deviceId].function?"_defaults":this.deviceList[e.deviceId].function},deviceStates(e){return Object.keys(this.deviceList[e].states)||[]},deviceStatesOptions(e){return this.deviceStates(e).map((e=>({label:e,value:e})))},hasDevices(e){return this.optionsAddDevice[e].devices.length>0},emitChange(){this.$emit("onChange",{id:"items",value:this.items})},deleteItem(e,t){e.stopPropagation();const i=confirm(this.$i18n.t("Really delete item?"));i&&(this.$delete(this.items,this.items.findIndex((e=>e.id===t))),this.emitChange())},copyItem(e,t){e.stopPropagation();const i=m(this.items.find((e=>e.id===t)));this.addItem(i,this.items.findIndex((e=>e.id===i.id))+1)},addItem(e,t=null){const i=Object(r["a"])(),s={...e,id:i};if(null===t){if("device"===e.type){const t=this.deviceStates(e.deviceId)[0]||null;s.primaryStateKey=t,s.bodyStateKey=t,s.bodyElement="LastChangeBody"}this.items.push(s),setTimeout((()=>{document.getElementById("WidgetDialogBody").scrollTop=this.$refs.deviceList.$el.scrollHeight+100}),100)}else this.items.splice(t,0,s);this.emitChange()},addDevice(e){(!e.attributes||e.attributes&&!0!==e.attributes.deleted)&&(this.addItem({type:"device",deviceId:e.id}),this.ModuleSettings.addDevice&&void 0!==this.ModuleSettings.addDevice.max&&this.ModuleSettings.addDevice.max<=this.items.length&&this.$refs.addDeviceSelect.hidePopup())},addGroup(){this.addItem({type:"group",name:this.group.value}),this.group={}},addDivider(){this.addItem({type:"divider"})},onChange(e){if(e.id&&e.itemId){const t=this.items.findIndex((t=>t.id===e.itemId));if(t>-1){if(e.id.indexOf("moduleConfig.")>-1)this.$set(this.items,t,{...this.items[t],moduleConfig:{...this.items[t].moduleConfig||{},[e.id.replace("moduleConfig.","")]:e.value}});else if("componentOptions"===e.id){const i=e.stateKey||this.items[t].primaryStateKey;this.$set(this.items[t],e.component+"Config",{...this.items[t][e.component+"Config"]||{},[i]:{...this.items[t][e.component+"Config"]&&this.items[t][e.component+"Config"][i]||{},...e.value}})}else this.$set(this.items,t,{...this.items[t],[e.id]:e.value});this.$emit("onChange",{id:"items",value:this.items})}}},onChangeSecondaryStatesKeys(e,t){this.onChange({value:t.map((e=>e.value||e)),itemId:e,id:"secondaryStatesKeys"})}},created(){setTimeout((()=>{this.loaded=!0}),100)}}),g=v,f=(i("037f"),i("2877")),y=i("ddd8"),w=i("3b73"),S=i("66e5"),C=i("4074"),b=i("0170"),_=i("9c40"),x=i("6b1d"),I=i("1c1c"),M=i("eb85"),$=i("714f"),D=i("eebe"),N=i.n(D),O=Object(f["a"])(g,a,d,!1,null,"7a2d1b1a",null),K=O.exports;N()(O,"components",{QSelect:y["a"],QExpansionItem:w["a"],QItem:S["a"],QItemSection:C["a"],QItemLabel:b["a"],QBtn:_["a"],QLinearProgress:x["a"],QList:I["a"],QSeparator:M["a"]}),N()(O,"directives",{Ripple:$["a"]});var k=i("086f");const q=i("0050")();var L=Object(n["b"])({name:"WidgetPage",props:["widgetId"],components:{WidgetDevicesSection:K},data(){return this.ModuleList=p["c"]._ModuleList.map((e=>({label:e,value:e}))),{component:null,errors:{module:"Empty"},ModuleConfigurations:[],ModuleSettings:{},widget:null}},computed:{config(){return this.widget.config},hasErrors(){return Object.keys(this.errors).length>0},ModuleConfigValues(){const e={};return this.ModuleConfigurations.forEach((t=>{e[t.parameter]=this.getValueForInput(t)})),e}},methods:{dependencies(e){return!e||Object.keys(e).some((t=>{const i=Array.isArray(e[t])?e[t]:[e[t]],s=void 0===this.config[t]?this.ModuleConfigurations.find((e=>e.parameter===t)).value:this.config[t];return i.includes(s)}))},getValueForInput(e){if(void 0===this.config[e.parameter]){const t="function"===typeof e.value?e.value(this.widget):e.value;return this.onChange({id:"config."+e.parameter,value:t}),t}return this.config[e.parameter]},onChange(e){const{_error:t,id:i,value:s}=e;t?this.$set(this.errors,i,t):i.indexOf("config.")>-1&&void 0!==i&&void 0!==s?(this.$delete(this.errors,i),this.$set(this.config,i.replace("config.",""),s)):void 0!==i&&void 0!==s&&(this.$delete(this.errors,i),this.$set(this.widget,i,s),"module"===i&&(this.ModuleConfigurations=p["c"]._ModuleConfigurations[s]||[],this.ModuleSettings=p["c"]._ModuleSettings[s]||{},this.errors={},this.$set(this.widget,"config",{})))},cancel(e=null){this.$emit("onClose",e),this.widget=null,this.errors={}},save(){this.$store.commit("editor/addWidget",{widget:this.widget}),this.cancel(this.widget)}},watch:{widgetId(e){this.widget=null,null!==e&&(this.widget=this.$store.state.editor.widgets[e]?q(this.$store.state.editor.widgets[e]):{id:e,config:{}},this.ModuleConfigurations=p["c"]._ModuleConfigurations[this.widget.module]||[],this.ModuleSettings=p["c"]._ModuleSettings[this.widget.module]||{},this.widget.module&&delete this.errors.module)}},created(){k["default"].register(this.$i18n,k["default"].translations)}}),E=L,G=(i("7ec5"),i("24e8")),A=i("f09f"),T=i("a370"),B=i("2c91"),j=i("4b7e"),W=Object(f["a"])(E,s,o,!1,null,"6ff34473",null);t["a"]=W.exports;N()(W,"components",{QDialog:G["a"],QCard:A["a"],QCardSection:T["a"],QSpace:B["a"],QBtn:_["a"],QSeparator:M["a"],QCardActions:j["a"]})},"4e4a":function(e,t,i){"use strict";i.r(t),t["default"]={"Add Widget":"Добавить виджет",Title:"Заголовок",Module:"Модуль","Hide Widget Title and Icon":"Скрыть заголовок и иконку виждета","click to copy to clipboard":"кликнуть чтобы скопировать в буфер"}},"72a5":function(e,t,i){"use strict";i.r(t),t["default"]={}},"7ec5":function(e,t,i){"use strict";i("8120")},8120:function(e,t,i){},a507:function(e,t,i){},de6a:function(e,t,i){"use strict";i.r(t),t["default"]={"Add Widget":"Widget hinzufügen",Title:"Titel",Module:"Modul",Usage:"Benutzung",Tab:"Tab",Page:"Seite","Module Configuration":"Modul Konfiguration","Hide Widget Label and Icon":"Widget Label und Icon verstecken","Hide Separator":"Trennlinie verbergen","click to copy to clipboard":"Klicken zum Kopieren in die Zwischenablage","ID copied":"ID kopiert","inherited from the device configuration":"aus der Geräte-Konfiguration geerbt"}}}]);